<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="using:RedSismica.ViewModels"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="450"
        x:Class="RedSismica.Views.MainWindow"
        Icon="/Assets/avalonia-logo.ico"
        Title="RedSismica"
        WindowState="Maximized"
        Padding="20">

    <Grid Name="MainPanel">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <!-- Header Bar -->
        <Border Grid.Row="0" Background="#2C3E50" Padding="15">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="Auto" />
                </Grid.ColumnDefinitions>

                <!-- Register Button -->
                <Button 
                    Grid.Column="0"
                    Content="Registrar Cierre de Orden" 
                    Click="SeleccionarOpcionRegistarCierre"
                    Background="#3498DB"
                    Foreground="White"
                    Padding="15,8"
                    FontWeight="SemiBold"
                    CornerRadius="4" />

                <!-- Refresh Button -->
                <Button 
                    Grid.Column="1"
                    Content=" Actualizar Datos" 
                    Click="ActualizarDatos"
                    Background="#27AE60"
                    Foreground="White"
                    Padding="15,8"
                    FontWeight="SemiBold"
                    CornerRadius="4"
                    Margin="10,0,0,0" />

                <!-- User Info Panel -->
                <StackPanel 
                    Grid.Column="3"
                    Name="UserInfoPanel"
                    Orientation="Horizontal"
                    Spacing="5" />
            </Grid>
        </Border>

        <!-- Content Area with DataGrids -->
        <ScrollViewer Grid.Row="1" Padding="20">
            <StackPanel Spacing="20">
                <!-- Estaciones Section -->
                <StackPanel>
                    <TextBlock Text="Estaciones Sismol贸gicas" 
                               FontSize="18" 
                               FontWeight="Bold" 
                               Margin="0,0,0,10" />
                    <DataGrid Name="EstacionesDataGrid"
                              AutoGenerateColumns="False"
                              IsReadOnly="True"
                              GridLinesVisibility="All"
                              BorderThickness="1"
                              BorderBrush="#BDC3C7">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="ID" Binding="{ReflectionBinding Id}" Width="80" />
                            <DataGridTextColumn Header="Nombre" Binding="{ReflectionBinding Nombre}" Width="*" />
                            <DataGridTextColumn Header="Sism贸grafo" Binding="{ReflectionBinding NombreSismografo}" Width="*" />
                            <DataGridTextColumn Header="Estado" Binding="{ReflectionBinding EstadoSismografo}" Width="150" />
                        </DataGrid.Columns>
                    </DataGrid>
                </StackPanel>

                <!-- Ordenes Section -->
                <StackPanel>
                    <TextBlock Text="rdenes de Inspecci贸n" 
                               FontSize="18" 
                               FontWeight="Bold" 
                               Margin="0,0,0,10" />
                    <DataGrid Name="OrdenesDataGrid"
                              AutoGenerateColumns="False"
                              IsReadOnly="True"
                              GridLinesVisibility="All"
                              BorderThickness="1"
                              BorderBrush="#BDC3C7">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="N掳 Orden" Binding="{ReflectionBinding NumeroOrden}" Width="100" />
                            <DataGridTextColumn Header="Fecha Fin" Binding="{ReflectionBinding FechaFinalizacion, StringFormat='{}{0:dd/MM/yyyy}'}" Width="120" />
                            <DataGridTextColumn Header="Estaci贸n" Binding="{ReflectionBinding NombreEstacion}" Width="*" />
                            <DataGridTextColumn Header="Sism贸grafo" Binding="{ReflectionBinding NombreSismografo}" Width="*" />
                            <DataGridTextColumn Header="Estado" Binding="{ReflectionBinding Estado}" Width="180" />
                            <DataGridTextColumn Header="Responsable" Binding="{ReflectionBinding NombreResponsable}" Width="150" />
                        </DataGrid.Columns>
                    </DataGrid>
                </StackPanel>

                <!-- Usuarios Section -->
                <StackPanel>
                    <TextBlock Text="Usuarios del Sistema" 
                               FontSize="18" 
                               FontWeight="Bold" 
                               Margin="0,0,0,10" />
                    <DataGrid Name="UsuariosDataGrid"
                              AutoGenerateColumns="False"
                              IsReadOnly="True"
                              GridLinesVisibility="All"
                              BorderThickness="1"
                              BorderBrush="#BDC3C7">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="ID" Binding="{ReflectionBinding Id}" Width="80" />
                            <DataGridTextColumn Header="Nombre" Binding="{ReflectionBinding Nombre}" Width="*" />
                            <DataGridTextColumn Header="Usuario" Binding="{ReflectionBinding NombreUsuario}" Width="150" />
                            <DataGridTextColumn Header="Rol" Binding="{ReflectionBinding NombreRol}" Width="120" />
                        </DataGrid.Columns>
                    </DataGrid>
                </StackPanel>
            </StackPanel>
        </ScrollViewer>

        <!-- Logout Button -->
        <Button 
            Grid.Row="2"
            Content="Cerrar sesi贸n"
            Click="CerrarSesion" 
            HorizontalAlignment="Right"
            VerticalAlignment="Bottom" 
            Margin="10"
            Padding="10,5" />
    </Grid>
    
</Window>